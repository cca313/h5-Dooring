<!--
 * @Date: 2021-01-20 23:25:29
 * @LastEditors: xuxiaoxi
 * @LastEditTime: 2021-01-22 21:48:34
 * @FilePath: /github-h5-Dooring/doc/zh/guide/deployDev/deploy.md
-->

**H5-Dooring**后端部分主要使用 `Nodejs` 开发, 为了满足更多定制化需求和服务的可移植性, 特意编写了API接口文档,
方便大家使用不同的后端语言实现服务接入. 
- 注意: 接口统一前缀为`/api/v0`

## 用户相关

### 登录

用户登录接口
- `POST` /vip/check

| 参数名        |  是否必选  |   类型   |    说明    |
| ------------- |:-------------:|:-----:| -------------:|
| n     | true | string | 用户名 |
| co      | true | string | 密码 |

返回示例
``` json
{
    "result": { 
        "n": "test", 
        "od": [], 
        "h5": [
            {
                "t": "23242ED",
                "n": "测试页面"
            }
        ], 
        "rp": "AAAAA", 
        "maxage": 300000 
    }
}
```

### 注销登录

注销接口
- `POST` /vip/checkout

返回示例
``` json
{ 
    "result": null, 
    "msg": "退出成功"
}
```


### 权限控制

不同用户级别所访问的页面权限不同, 这块可结合服务端已有代码设计属于自己的权限字段, 地址为`server/src/router`

### 用户列表

获取用户列表接口
- `GET` /vip/all

获取用户列表需要账号满足以下条件:
- 已登录
- 为超级管理员

返回示例
``` json
[
    {
        "id": "", 
        "n": "test", 
        "co": "123456", 
        "od": [], 
        "h5": [
            {
                "t": "23242ED",
                "n": "测试页面"
            }
        ], 
        "wx": "Mr_xuxiaoxi", 
        "rp": "AAAAA"
    }
]
```

### 添加用户

添加用户接口
- `POST` /vip/add

先决条件:
- 用户已登陆
- 为超级管理员

| 参数名        |  是否必选  |   类型   |    说明    |
| ------------- |:-------------:|:-----:| -------------:|
| nickname    | true | string | 用户名 |
| wx      | true | string | 微信号 |
| co      | true | string | 密码 |

注: co是由笔者写的`加密算法`实现, 不需要手动填写, 详情见`dooirng`后台管理/用户管理页面.

返回示例
``` json
{
    "id": "3422EF",
    "n": "test",
    "wx": "Mr_xuxiaoxi",
    "co": "123456",
    "od": [],
    "h5": [],
    "tpl": [],
    "rp": "AAAAA",
    "h5Num": 10,
    "tplNum": 3
}
```

### 修改用户信息

修改用户接口
- `POST` /vip/edit

先决条件:
- 用户已登陆
- 为超级管理员

| 参数名        |  是否必选  |   类型   |    说明    |
| ------------- |:-------------:|:-----:| -------------:|
| id    | false | string | 用户ID |
| nickname      | false | string | 用户名 |
| co      | false | string | 登录码 |
| wx      | false | string | 微信号 |

返回示例
``` json
{
    "state": 200,
    "result": null,
    "msg": "修改成功",
}
```

### 删除用户

删除用户接口
- `DELETE` /vip/del

先决条件:
- 用户已登陆
- 为超级管理员

| 参数名        |  是否必选  |   类型   |    说明    |
| ------------- |:-------------:|:-----:| -------------:|
| id    | true | string | 用户ID |
| wx      | true | string | 微信号 |
| n      | true | string | 用户名 |

返回示例
``` json
{
    "state": 200,
    "result": null,
    "msg": "删除成功",
}
```

## H5页面管理

### 获取H5数据

### 保存H5数据

### 修改H5数据

### 删除H5数据

## H5表单数据管理

### 保存表单数据

### 批量导入表单数据

### 删除表单数据

## 模版管理

### 获取模版库

### 保存模版

### 修改模版

### 删除模版

## 文件上传

## 数据统计

### 数据大盘接口

### 页面埋点